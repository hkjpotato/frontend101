<html>
<script type="text/javascript">
/*
ECMAScript 2015 introduces a new data structure to map values to values. A Map object is a simple key/value map and can iterate its elements in insertion order.
*/

var animalsMap = new Map();
animalsMap.set('dog', 'woof');
animalsMap.set('cat', 'meow');
animalsMap.set('elephant', 'toot');
animalsMap.size; // 3

console.log(animalsMap)
animalsMap.get('fox'); // undefined
animalsMap.has('bird'); // false
animalsMap.delete('dog');
animalsMap.has('dog'); // false

for (var [key, value] of animalsMap) {
  console.log(key + ' goes ' + value);
}
// "cat goes meow"
// "elephant goes toot"

animalsMap.clear();
animalsMap.size; // 0

/*
Object and Map compared

Traditionally, objects have been used to map strings to values. Objects allow you to set keys to values, retrieve those values, delete keys, and detect whether something is stored at a key. Map objects, however, have a few more advantages that make them better maps.

1. The keys of an Object are Strings, where they can be of any value for a Map.
2. You can get the size of a Map easily while you have to manually keep track of size for an Object.
3. The iteration of maps is in insertion order of the elements.
4. An Object has a prototype, so there are default keys in the map. (this can be bypassed using map = Object.create(null)).
..wtf so what..
*/

function Node(val) {
    this.val = val;
    this.next = null;
}

var n1 = new Node(1);
var n2 = new Node(2);
var n3 = new Node(3);


var nodeMap = new Map();
nodeMap.set(n1, n1);
nodeMap.set(n2, n2);

console.log(nodeMap);


console.log(nodeMap.get(n1));
console.log(nodeMap.has(n3));

var curr = nodeMap.get(n2);
curr.val = 100;
console.log(n2);


console.log(nodeMap.entries())
console.log(nodeMap.values())
console.log(nodeMap.keys())



/*
Key and value equality of Map and Set
Both, the key equality of Map objects and the value equality of Set objects, are based on the "same-value-zero algorithm":

https://tc39.github.io/ecma262/#sec-samevaluezero

Equality works like the identity comparison operator ===.
-0 and +0 are considered equal.
NaN is considered equal to itself (contrary to ===).

*/



</script>
</html>