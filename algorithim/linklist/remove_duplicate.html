<html>
<body>
<script type="text/javascript">
function print(node) {
  var str = '';
  while (node !== null) {
    str = str + (node.val) + (node.next ? "->" : "");
    node = node.next;
  }
  console.log(str);
}

function ListNode(val) {
  this.val = val;
  this.next = null;
}

var node1 = new ListNode(1);
var node2 = new ListNode(1);
node1.next = node2;
node2.next = new ListNode(1);
node2.next.next = new ListNode(1);

head = node1;

// var node3 = new ListNode(3);
// var node4 = new ListNode(4);



var deleteDuplicates = function(head) {
    if (head == null) {
        return head;
    }
    
    var prevHead = new ListNode(0);
    prevHead.next = head;
    
    curr = head;
    prev = prevHead;


    
    while (curr != null) {
      /*
        prev, curr
        after interaction, for the next one
        prev means the checked one
        curr is the one to be checked
      */
      if (curr.next !== null && curr.next.val == curr.val) {
          console.log('hi');
          //next is a duplicate of the curr
          //remove all of them (prev.next = duplicateend.next)
          
          //loop to the end element of duplicate
          while (curr.next !== null && curr.next.val == curr.val) {
            curr = curr.next;
          }
          //curr should be the last element of duplicate
          //because curr might be null or the next != curr
          prev.next = curr.next;
          curr = curr.next;
      } else {
          prev = curr;
          curr = curr.next;
      }
    }
    
    return prevHead.next;
};

// var update = deleteDuplicates(head);
// console.log(update);
// print(update);


var deleteDuplicates1 = function(head) {
    if (head === null || head.next === null) {
        return head;
    }
    
    var checked = head;
    while (checked!== null && checked.next !== null) {
        if (checked.val == checked.next.val ) {
            while(checked.next !== null && checked.next.val == checked.val) {
                //多么痛的领悟
                checked.next = checked.next.next;
            }

            //at the end, checked.next = null || whose checked.next.val != duplicate
        } else {
            checked = checked.next;
        }
    }
    return head;
};

var update = deleteDuplicates1(head);
console.log(update);

</script>
</body>
</html>